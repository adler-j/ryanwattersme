var tipuesearch_stop_words=["a","about","above","after","again","against","all","am","an","and","any","are","aren't","as","at","be","because","been","before","being","below","between","both","but","by","can't","cannot","could","couldn't","did","didn't","do","does","doesn't","doing","don't","down","during","each","few","for","from","further","had","hadn't","has","hasn't","have","haven't","having","he","he'd","he'll","he's","her","here","here's","hers","herself","him","himself","his","how","how's","i","i'd","i'll","i'm","i've","if","in","into","is","isn't","it","it's","its","itself","let's","me","more","most","mustn't","my","myself","no","nor","not","of","off","on","once","only","or","other","ought","our","ours","ourselves","out","over","own","same","shan't","she","she'd","she'll","she's","should","shouldn't","so","some","such","than","that","that's","the","their","theirs","them","themselves","then","there","there's","these","they","they'd","they'll","they're","they've","this","those","through","to","too","under","until","up","very","was","wasn't","we","we'd","we'll","we're","we've","were","weren't","what","what's","when","when's","where","where's","which","while","who","who's","whom","why","why's","with","won't","would","wouldn't","you","you'd","you'll","you're","you've","your","yours","yourself","yourselves"],tipuesearch_replace={words:[{word:"javscript",replace_with:"javascript"},{word:"jqeury",replace_with:"jquery"}]},tipuesearch_weight={weight:[{url:"http://www.tipue.com",score:200},{url:"http://www.tipue.com/search",score:100},{url:"http://www.tipue.com/about",score:100}]},tipuesearch_stem={words:[{word:"e-mail",stem:"email"},{word:"javascript",stem:"jquery"},{word:"javascript",stem:"js"}]},tipuesearch_string_1="No title",tipuesearch_string_2="Showing results for",tipuesearch_string_3="Search instead for",tipuesearch_string_4="1 result",tipuesearch_string_5="results",tipuesearch_string_6="Prev",tipuesearch_string_7="Next",tipuesearch_string_8="No results found",tipuesearch_string_9="Common words are largely ignored",tipuesearch_string_10="Search too short",tipuesearch_string_11="Should be one character or more",tipuesearch_string_12="Should be",tipuesearch_string_13="characters or more";!function(e){e.fn.tipuesearch=function(t){var s=e.extend({show:7,newWindow:!1,showURL:!0,showTitleCount:!1,minimumLength:3,descriptiveWords:25,highlightTerms:!0,highlightEveryTerm:!0,mode:"static",liveDescription:"*",liveContent:"*",contentLocation:"tipuesearch/tipuesearch_content.json",debug:!1},t);return this.each(function(){function t(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function r(t,h){e("#tipue_search_content").hide(),e("#tipue_search_content").html('<div class="tipue_search_spinner"><div class="tipue_search_rect1"></div><div class="tipue_search_rect2"></div><div class="rect3"></div></div>'),e("#tipue_search_content").show();var n="",c=!1,u=!1,l=!0,p=0;found=[];var _=e("#tipue_search_input").val().toLowerCase();if(_=e.trim(_),(_.match('^"')&&_.match('"$')||_.match("^'")&&_.match("'$"))&&(l=!1),l){var g=_.split(" ");_="";for(var d=0;d<g.length;d++){for(var w=!0,v=0;v<tipuesearch_stop_words.length;v++)g[d]==tipuesearch_stop_words[v]&&(w=!1,u=!0);w&&(_=_+" "+g[d])}_=e.trim(_),g=_.split(" ")}else _=_.substring(1,_.length-1);if(_.length>=s.minimumLength){if(l){if(h){for(var f=_,d=0;d<g.length;d++)for(var v=0;v<tipuesearch_replace.words.length;v++)g[d]==tipuesearch_replace.words[v].word&&(_=_.replace(g[d],tipuesearch_replace.words[v].replace_with),c=!0);g=_.split(" ")}for(var m=_,d=0;d<g.length;d++)for(var v=0;v<tipuesearch_stem.words.length;v++)g[d]==tipuesearch_stem.words[v].word&&(m=m+" "+tipuesearch_stem.words[v].stem);g=m.split(" ");for(var d=0;d<i.pages.length;d++){for(var x=0,y=i.pages[d].text,v=0;v<g.length;v++){var b=new RegExp(g[v],"gi");if(-1!=i.pages[d].title.search(b)){var j=i.pages[d].title.match(b).length;x+=20*j}if(-1!=i.pages[d].text.search(b)){var j=i.pages[d].text.match(b).length;x+=20*j}if(s.highlightTerms){if(s.highlightEveryTerm)var L=new RegExp("("+g[v]+")","gi");else var L=new RegExp("("+g[v]+")","i");y=y.replace(L,'<span class="h01">$1</span>')}if(-1!=i.pages[d].tags.search(b)){var j=i.pages[d].tags.match(b).length;x+=10*j}if(-1!=i.pages[d].url.search(b)&&(x+=20),0!=x)for(var C=0;C<tipuesearch_weight.weight.length;C++)i.pages[d].url==tipuesearch_weight.weight[C].url&&(x+=tipuesearch_weight.weight[C].score);g[v].match("^-")&&(b=new RegExp(g[v].substring(1),"i"),(-1!=i.pages[d].title.search(b)||-1!=i.pages[d].text.search(b)||-1!=i.pages[d].tags.search(b))&&(x=0))}0!=x&&(found.push({score:x,title:i.pages[d].title,desc:y,url:i.pages[d].url}),p++)}}else for(var d=0;d<i.pages.length;d++){var x=0,y=i.pages[d].text,b=new RegExp(_,"gi");if(-1!=i.pages[d].title.search(b)){var j=i.pages[d].title.match(b).length;x+=20*j}if(-1!=i.pages[d].text.search(b)){var j=i.pages[d].text.match(b).length;x+=20*j}if(s.highlightTerms){if(s.highlightEveryTerm)var L=new RegExp("("+_+")","gi");else var L=new RegExp("("+_+")","i");y=y.replace(L,'<span class="h01">$1</span>')}if(-1!=i.pages[d].tags.search(b)){var j=i.pages[d].tags.match(b).length;x+=10*j}if(-1!=i.pages[d].url.search(b)&&(x+=20),0!=x)for(var C=0;C<tipuesearch_weight.weight.length;C++)i.pages[d].url==tipuesearch_weight.weight[C].url&&(x+=tipuesearch_weight.weight[C].score);0!=x&&(found.push({score:x,title:i.pages[d].title,desc:y,url:i.pages[d].url}),p++)}if(0!=p){if(s.showTitleCount&&0==a){var E=document.title;document.title="("+p+") "+E,a++}1==c&&(n+='<div id="tipue_search_warning">'+tipuesearch_string_2+" "+_+". "+tipuesearch_string_3+' <a id="tipue_search_replaced">'+f+"</a></div>"),1==p?n+='<div id="tipue_search_results_count">'+tipuesearch_string_4+' for <span class="search-term-top">'+_+"</span></div>":(c_c=p.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),n+='<div id="tipue_search_results_count">'+c_c+" "+tipuesearch_string_5+' for <span class="search-term-top">'+_+"</span></div>"),found.sort(function(e,t){return t.score-e.score});for(var R=0,d=0;d<found.length;d++){if(R>=t&&R<s.show+t){if(n+='<div class="tipue_search_content_title"><a href="'+found[d].url+'"'+o+">"+found[d].title+"</a></div>",s.debug&&(n+='<div class="tipue_search_content_debug">Score: '+found[d].score+"</div>"),s.showURL){var S=found[d].url.toLowerCase();0==S.indexOf("http://")&&(S=S.slice(7)),n+='<div class="tipue_search_content_url"><a href="'+found[d].url+'"'+o+">"+S+"</a></div>"}if(found[d].desc){var T=found[d].desc,$="",k=T.split(" ");if(k.length<s.descriptiveWords)$=T;else for(var v=0;v<s.descriptiveWords;v++)$+=k[v]+" ";$=e.trim($),"."!=$.charAt($.length-1)&&($+=" ..."),n+='<div class="tipue_search_content_text">'+$+"</div>"}}R++}if(p>s.show){var q=Math.ceil(p/s.show),W=t/s.show;if(n+='<div id="tipue_search_foot"><ul id="tipue_search_foot_boxes">',t>0&&(n+='<li><a class="tipue_search_foot_box" id="'+(t-s.show)+"_"+h+'">'+tipuesearch_string_6+"</a></li>"),2>=W){var N=q;q>3&&(N=3);for(var v=0;N>v;v++)n+=v==W?'<li class="current">'+(v+1)+"</li>":'<li><a class="tipue_search_foot_box" id="'+v*s.show+"_"+h+'">'+(v+1)+"</a></li>"}else{var N=W+2;N>q&&(N=q);for(var v=W-1;N>v;v++)n+=v==W?'<li class="current">'+(v+1)+"</li>":'<li><a class="tipue_search_foot_box" id="'+v*s.show+"_"+h+'">'+(v+1)+"</a></li>"}W+1!=q&&(n+='<li><a class="tipue_search_foot_box" id="'+(t+s.show)+"_"+h+'">'+tipuesearch_string_7+"</a></li>"),n+="</ul></div>"}}else n+='<div id="tipue_search_warning">'+tipuesearch_string_8+"</div>"}else u?n+='<div id="tipue_search_warning">'+tipuesearch_string_8+". "+tipuesearch_string_9+"</div>":(n+='<div id="tipue_search_warning">'+tipuesearch_string_10+"</div>",n+=1==s.minimumLength?'<div id="tipue_search_warning">'+tipuesearch_string_11+"</div>":'<div id="tipue_search_warning">'+tipuesearch_string_12+" "+s.minimumLength+" "+tipuesearch_string_13+"</div>");e("#tipue_search_content").hide(),e("#tipue_search_content").html(n),e("#tipue_search_content").slideDown(200),e("#tipue_search_replaced").click(function(){r(0,!1)}),e(".tipue_search_foot_box").click(function(){var t=e(this).attr("id"),s=t.split("_");r(parseInt(s[0]),s[1])})}var i={pages:[]};e.ajaxSetup({async:!1});var a=0;if("live"==s.mode)for(var h=0;h<tipuesearch_pages.length;h++)e.get(tipuesearch_pages[h]).done(function(t){var r=e(s.liveContent,t).text();r=r.replace(/\s+/g," ");var a=e(s.liveDescription,t).text();a=a.replace(/\s+/g," ");var o=t.toLowerCase().indexOf("<title>"),n=t.toLowerCase().indexOf("</title>",o+7);if(-1!=o&&-1!=n)var c=t.slice(o+7,n);else var c=tipuesearch_string_1;i.pages.push({title:c,text:a,tags:r,url:tipuesearch_pages[h]})});"json"==s.mode&&e.getJSON(s.contentLocation).done(function(t){i=e.extend({},t)}),"static"==s.mode&&(i=e.extend({},tipuesearch));var o="";s.newWindow&&(o=' target="_blank"'),t("q")&&(e("#tipue_search_input").val(t("q")),r(0,!0)),e(this).keyup(function(e){"13"==e.keyCode&&r(0,!0)})})}}(jQuery),$("#tipue_search_input").tipuesearch();