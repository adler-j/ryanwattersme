"use strict";function lunrSearch(e){var t=document.querySelector("#search-input").value,n=document.querySelector("#search-results");if(0===t.length&&(n.innerHTML=""),9!==e.keyCode&&t.length>2){var r=window.index.search(t);displayResults(r)}}function displayResults(e){var t=document.querySelector("#search-results"),n=document.querySelector("#search-input").value;e.length?(t.innerHTML="",e.forEach(function(e){for(var n=window.searchData[e.ref],r=n.section.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),s='<li class="search-result"><a href="'+n.url+'"><h5>'+n.title+'</h5></a><span class="site-section">In: '+r+"</span><p>"+n.description+'</p><div class="search-result-tags"><div class="tags"></div>',i=0;i<n.tags.length;i++)s+='<a class="tag" href="/tags/'+n.tags[i]+'">'+n.tags[i]+"</a> ";s+="</div></li>",t.innerHTML+=s})):t.innerHTML='<li class="search-result none">No results found for <span class="input-value">'+n+"</span>.<br/>Please check spelling and spacing.</li>"}function toggleHeader(){document.querySelector(".site-header").classList.toggle("open"),document.querySelector("main").classList.toggle("open")}"document"in self&&!("classList"in document.createElement("_"))&&!function(e){if("Element"in e){var t="classList",n="prototype",r=e.Element[n],s=Object,i=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},c=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},l=function(e){for(var t=i.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,s=n.length;s>r;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(o[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return e+="",-1!==c(this,e)},u.add=function(){var e,t=arguments,n=0,r=t.length,s=!1;do e=t[n]+"",-1===c(this,e)&&(this.push(e),s=!0);while(++n<r);s&&this._updateClassName()},u.remove=function(){var e,t=arguments,n=0,r=t.length,s=!1;do{e=t[n]+"";var i=c(this,e);-1!==i&&(this.splice(i,1),s=!0)}while(++n<r);s&&this._updateClassName()},u.toggle=function(e,t){e+="";var n=this.contains(e),r=n?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),!n},u.toString=function(){return this.join(" ")},s.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(r,t,d)}catch(p){-2146823252===p.number&&(d.enumerable=!1,s.defineProperty(r,t,d))}}else s[n].__defineGetter__&&r.__defineGetter__(t,h)}}(self),String.prototype.includes||(String.prototype.includes=function(){return"number"==typeof arguments[1]?this.length<arguments[0].length+arguments[1].length?!1:this.substr(arguments[1],arguments[0].length)===arguments[0]?!0:!1:-1!==String.prototype.indexOf.apply(this,arguments)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var searchData,searchInput=document.getElementById("search-input");searchInput.addEventListener("keyup",lunrSearch,!0),window.index=lunr(function(){this.field("id"),this.field("url"),this.field("title",{boost:50}),this.field("description"),this.field("tags"),this.field("categories"),this.field("content",{boost:20})});var searchReq=new XMLHttpRequest;searchReq.open("GET","/assets/site-index.json",!0),searchReq.onload=function(){this.status>=200&&this.status<400?(searchData=JSON.parse(this.response),searchData.forEach(function(e,t){e.id=t,window.index.add(e)})):console.log("Did not get the site index.")},searchReq.onerror=function(){console.log("Error when attempting to load site-index.json")},searchReq.send();var searchOverlay=document.querySelector(".search-form"),searchButton=document.getElementById("search-button"),searchInput=document.getElementById("search-input"),closeSearch=document.getElementById("close-search");closeSearch.onclick=function(){searchOverlay.classList.contains("open")&&searchOverlay.classList.remove("open")},window.addEventListener("keyup",function(e){var t=e.keyCode;83===t&&searchOverlay.classList.contains("open")||(83===t?(searchOverlay.classList.add("open"),searchInput.value.length>0&&(searchInput.value=""),searchInput.focus()):27===t&&searchOverlay.classList.contains("open")&&searchOverlay.classList.remove("open"))},!0),searchButton.addEventListener("click",function(e){searchOverlay.classList.toggle("open"),searchInput.focus()},!0);var clickOrTouchStart;clickOrTouchStart="ontouchstart"in document.documentElement?"touchstart":"click";var headerToggle=document.getElementById("site-header-toggle");!function(){var e=document.querySelectorAll(".site-section"),t=location.pathname.split("/")[1];if(t.length>0)for(var n=new RegExp(t),r=0;r<e.length;r++)n.test(e[r].dataset.section)&&(e[r].className+=" active")}(),headerToggle.addEventListener(clickOrTouchStart,toggleHeader,!1),function(){for(var e=document.querySelectorAll("blockquote > p"),t=new RegExp(/\s\-\s/),n=0;n<e.length;n++)if(t.test(e[n].textContent)){var r=e[n].innerHTML.split(" - ")[0],s=e[n].innerHTML.split(" - ")[1];e[n].innerHTML=r+'<cite class="blockquote-citation"> &#x2015; '+s+"</cite>"}}();var firstPara=document.querySelector("article.content > p");if(firstPara>0){var firstParaText=firstPara.textContent,firstLetter='<span class="dropcap">'+firstParaText.substring(0,1)+"</span>",remainingText=firstParaText.substring(1,firstParaText.length);firstPara.innerHTML=firstLetter+remainingText}!function(){var e=document.getElementsByTagName("iframe"),t=document.createElement("div"),n=new RegExp("youtube");t.className="videoWrapper",HTMLElement.prototype.wrap=function(e){e.length||(e=[e]);for(var t=e.length-1;t>=0;t--){var n=t>0?this.cloneNode(!0):this,r=e[t],s=r.parentNode,i=r.nextSibling;n.appendChild(r),i?s.insertBefore(n,i):s.appendChild(n)}};for(var r=0;r<e.length;r++)n.test(e[r].getAttribute("src"))&&t.wrap(e[r])}(),function(){var e=location.host.replace("www.","");e=new RegExp(e,"i");for(var t=new RegExp(/mailto:/),n=new RegExp(/(.pdf|.docx|.doc|.xlsx|.xls)$/),r=document.getElementsByTagName("a"),s=0;s<r.length;s++){var i=r[s].host;n.test(r[s].href)?r[s].setAttribute("target","_blank"):t.test(r[s].href)?r[s].setAttribute("target",""):e.test(i)||r[s].setAttribute("target","_blank")}}(),function(){HTMLElement.prototype.wrap=function(e){e.length||(e=[e]);for(var t=e.length-1;t>=0;t--){var n=t>0?this.cloneNode(!0):this,r=e[t],s=r.parentNode,i=r.nextSibling;n.appendChild(r),i?s.insertBefore(n,i):s.appendChild(n)}},HTMLElement.prototype.wrapAll=function(e){var t=e.length?e[0]:e,n=t.parentNode,r=t.nextSibling;for(this.appendChild(t);e.length;)this.appendChild(e[0]);r?n.insertBefore(this,r):n.appendChild(this)}}();